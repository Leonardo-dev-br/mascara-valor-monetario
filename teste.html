<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testando valores</title>
        
</head>
<body>
    <h1>Teste de Valores em R$</h1>
    <label for="formatar">Digite o número</label>
    <input type="text" name="" id="numform">
    
</body>
<script>

var input = document.getElementById("numform"); // Pegando o elemento input

input.addEventListener('input', formatarValor); // Usando o evento 'input' para capturar alterações no valor

function isEmpty(value) { // re
    return (!value || value.length === 0);
    }

function formatarValor() {

    var cursorPosition = input.selectionStart; //armazena Posição do cursor na entrada

    // Verifica se o valor é numérico e trocando . por ,
    console.log(isEmpty(input.value));
    if (!isNaN(input.value)) {
        var formattedNumber = parseFloat(input.value).toFixed(2);
        input.value = formattedNumber.replace('.', ',');
        input.setSelectionRange(cursorPosition, cursorPosition); //Restaura a posição do cursor para antes da
    } else if(isEmpty(input.value)){
        input.value = ''
    }

    }
</script>
</body>
</html>